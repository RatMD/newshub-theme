{"version":3,"file":"newshub.min.js","sources":["../../resources/js/utilities/ready.js","../../resources/js/utilities/query.js","../../resources/js/theme.js","../../resources/js/components/bootstrap.js","../../resources/js/components/keen-slider.js","../../resources/js/components/colorpicker.js","../../resources/js/components/double-click.js","../../resources/js/components/sticky-header.js","../../resources/js/components/to-top.js"],"sourcesContent":["\r\n/**\r\n * Ready Factory State\r\n * @param {*} factory \r\n * @returns void\r\n */\r\nfunction ready(factory) {\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', factory);\r\n    } else {\r\n        factory();\r\n    }\r\n}\r\n\r\n// Export Module\r\nexport default ready;\r\n","\r\n/**\r\n * Query Selector\r\n * @param {*} selector \r\n * @param {*} context \r\n * @returns \r\n */\r\nfunction query(selector, context = null) {\r\n    return Array.from((context || document).querySelectorAll(selector));\r\n}\r\n\r\n// Export Module\r\nexport default query;\r\n","\r\nimport ready from './utilities/ready';\r\nimport invokeBootstrap from './components/bootstrap';\r\nimport invokeKeenSlider from './components/keen-slider';\r\nimport invokeColorPicker from './components/colorpicker';\r\nimport invokeDoubleClick from './components/double-click';\r\nimport invokeStickyHeader from './components/sticky-header';\r\nimport invokeScrollToTop from './components/to-top';\r\n\r\nready(invokeBootstrap);\r\nready(invokeKeenSlider);\r\nready(invokeColorPicker);\r\nready(invokeDoubleClick);\r\nready(invokeStickyHeader);\r\nready(invokeScrollToTop);\r\n","\r\nimport query from '../utilities/query';\r\nimport Bootstrap from '../vendors/bootstrap';\r\n\r\n/**\r\n * Invoke Bootstrap Dropdowns\r\n * We initialize the dropdowns manually, since the Bootstrap invoke method is \r\n * not compatible with OctoberCMS' Ajax Framework.\r\n * @param {*} element \r\n */\r\nfunction invokeBootstrapDropdown(element)\r\n{\r\n    element.addEventListener('click', (event) => {\r\n        event.preventDefault();\r\n\r\n        let dropdown = new Bootstrap.Dropdown(element);\r\n        dropdown.toggle();\r\n    });\r\n\r\n    if (element.classList.contains('close-on-select')) {\r\n        [].map.call(element.parentElement.querySelectorAll('.dropdown-menu li'), (item) => {\r\n            item.addEventListener('click', () => {\r\n                let dropdown = new Bootstrap.Dropdown(element);\r\n                dropdown.hide();\r\n            });\r\n        });\r\n    }\r\n\r\n    document.addEventListener('click', (event) => {\r\n        let closest = event.target.closest('.dropdown-toggle.show');\r\n        query('.dropdown-toggle.show').map(dropdown => {\r\n            if (dropdown !== closest) {\r\n                let dropdown = new Bootstrap.Dropdown(element);\r\n                dropdown.hide();\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Invoke Bootstrap Tooltips\r\n * @param {*} element \r\n */\r\nfunction invokeBootstrapTooltip(element)\r\n{\r\n    new Bootstrap.Tooltip(element);\r\n}\r\n\r\n/**\r\n * Invoke Bootstrap Popovers\r\n * @param {*} element \r\n */\r\nfunction invokeBootstrapPopover(element)\r\n{\r\n    new Bootstrap.Popover(element);\r\n}\r\n\r\n// Export Ready Handler\r\nexport default () => {\r\n    query('[data-rat-toggle=\"dropdown\"]').map(el => invokeBootstrapDropdown(el))\r\n    query('[data-bs-toggle=\"tooltip\"],[data-rat-toggle=\"tooltip\"]').map(el => invokeBootstrapTooltip(el))\r\n    query('[data-bs-toggle=\"popover\"],[data-rat-toggle=\"popover\"]').map(el => invokeBootstrapPopover(el))\r\n};\r\n","\r\nimport query from '../utilities/query';\r\nimport KeenSlider from '../vendors/keen-slider';\r\n\r\n/**\r\n * Invoke KeenSlider\r\n * @param {*} element \r\n * @param {*} options \r\n */\r\nfunction invokeKeenSlider(element, options = {})\r\n{\r\n    const plugins = [];\r\n\r\n    // Handle Pre-Sets\r\n    if ((options.preset || '') === 'hero') {\r\n        options.loop = true;\r\n        options.slides = {\r\n            perView: 1,\r\n            spacing: 0\r\n        };\r\n        options.breakpoints = {\r\n            '(min-width: 768px)': {\r\n                loop: false,\r\n                slides: {\r\n                    perView: 2,\r\n                    spacing: 20\r\n                }\r\n            },\r\n            '(min-width: 1024px)': {\r\n                loop: false,\r\n                slides: {\r\n                    perView: 3,\r\n                    spacing: 30\r\n                }\r\n            },\r\n            '(min-width: 1400px)': {\r\n                loop: false,\r\n                slides: {\r\n                    perView: 3,\r\n                    spacing: 50\r\n                }\r\n            },\r\n        }\r\n    }\r\n\r\n    // Change Default Selector\r\n    if (!('selector' in options)) {\r\n        options.selector = '.keen-slider-slide';\r\n    }\r\n\r\n    // Initialize Keen Slider\r\n    const slider = new KeenSlider(element, options, plugins);\r\n    element.__keenSlider = slider;\r\n\r\n    // Handle Pre-Sets\r\n    if ((options.preset || '') === 'hero') {\r\n        const container = element.parentElement;\r\n        if (container.classList.contains('keen-slider-container')) {\r\n            [].map.call(container.querySelectorAll('[data-keen-slider-control]'), (el) => {\r\n                el.addEventListener('click', () => {\r\n                    if (el.dataset.keenSliderControl === 'next') {\r\n                        slider.next();\r\n                    } else if (el.dataset.keenSliderControl === 'prev') {\r\n                        slider.prev();\r\n                    }\r\n                });\r\n            });\r\n\r\n            function updateHeroIndicators(s) {\r\n                const slide = s.track.details.abs;\r\n                if (slide === 0) {\r\n                    container.querySelector('[data-keen-slider-control=\"prev\"]').disabled = true;\r\n                } else {\r\n                    container.querySelector('[data-keen-slider-control=\"prev\"]').disabled = false;\r\n                }\r\n                console.log(slide + s.options.slides.perView, s.track.details.slides.length);\r\n                if (slide + s.options.slides.perView === s.track.details.slides.length) {\r\n                    container.querySelector('[data-keen-slider-control=\"next\"]').disabled = true;\r\n                } else {\r\n                    container.querySelector('[data-keen-slider-control=\"next\"]').disabled = false;\r\n                }\r\n            }\r\n            updateHeroIndicators(slider);\r\n\r\n            slider.on('created', updateHeroIndicators);\r\n            slider.on('optionsChanged', updateHeroIndicators);\r\n            slider.on('slideChanged', updateHeroIndicators);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// Export Ready Handler\r\nexport default () => {\r\n    query('[data-keen-slider]').map(el => {\r\n        let temp = el.dataset.keenSlider.trim();\r\n        var options = {};\r\n        if (temp.length > 0 && temp[0] === '{') {\r\n            try {\r\n                let handle = JSON.parse(temp);\r\n                if (typeof handle === 'object') {\r\n                    options = handle;\r\n                }\r\n            } catch(e) {\r\n                console.error(`The KeenSlider data property is not a valid JSON: '${temp}'`);\r\n            }\r\n        }\r\n\r\n        invokeKeenSlider(el, options);\r\n    });\r\n};\r\n","\r\nimport query from '../utilities/query';\r\n\r\n/**\r\n * Invoke Scroll-To-Top Button\r\n * @param {*} element \r\n */\r\nfunction invokeColorPicker(element)\r\n{\r\n    const defaultScheme = window.newshub.defaultScheme;\r\n\r\n    function onLoad() {\r\n        query('[data-rat-toggle=\"color-picker\"]').map(el => {\r\n            let style = sessionStorage.getItem('newshub-color-scheme') || defaultScheme;\r\n            if(style === 'light') {\r\n                el.checked = false;\r\n            } else {\r\n                el.checked = true;\r\n            }\r\n        });\r\n    }\r\n    onLoad();\r\n\r\n    element.addEventListener('change', (event) => {\r\n        let style = sessionStorage.getItem('newshub-color-scheme') || defaultScheme;\r\n        let newStyle = style === 'light'? 'dark': 'light';\r\n        sessionStorage.setItem('newshub-color-scheme', newStyle);\r\n\r\n        // Set Styling for a smooth change\r\n        let styling = document.createElement('style');\r\n        styling.innerText = '*, *::before, *::after { transition: all .25s ease !important; }';\r\n        document.head.appendChild(styling);\r\n\r\n        // Change Class Names\r\n        document.body.classList.remove(style);\r\n        document.body.classList.add(newStyle);\r\n\r\n        // Remove Styling\r\n        setTimeout(() => styling.remove(), 500);\r\n        onLoad();\r\n\r\n        // Trigger Event\r\n        const customEvent = new CustomEvent('newshub:scheme', { detail: { prev: style, now: newStyle } });\r\n        document.dispatchEvent(customEvent);\r\n    });\r\n}\r\n\r\n\r\n// Export Ready Handler\r\nexport default () => {\r\n    query('[data-rat-toggle=\"color-picker\"]').map(el => invokeColorPicker(el));\r\n};\r\n","\r\nimport query from '../utilities/query';\r\n\r\n/**\r\n * Invoke Double-Click Solution\r\n * @param {*} element \r\n */\r\nfunction invokeDoubleClick(element)\r\n{\r\n    element.querySelector('button.double-click-button').addEventListener('click', (event) => {\r\n        let template = element.querySelector('template');\r\n        let content = template.content.textContent.trim();\r\n\r\n        let container = document.createElement('DIV');\r\n        container.innerHTML = content.replace(/\\&quot\\;/g, '\"');\r\n        element.replaceWith(container.firstElementChild);\r\n    });\r\n}\r\n\r\n// Export Ready Handler\r\nexport default () => {\r\n    query('[data-rat-toggle=\"double-click\"]').map(el => invokeDoubleClick(el));\r\n};\r\n","\r\nimport query from '../utilities/query';\r\n\r\n/**\r\n * Invoke Sticky Header\r\n * @param {*} element \r\n */\r\nfunction invokeStickyHeader(element)\r\n{\r\n    let socials = element.querySelector('.navbar-socials');\r\n    if (!socials) {\r\n        return;\r\n    }\r\n\r\n    let height = socials.offsetHeight;\r\n    socials.style.height = height + 'px';\r\n    \r\n    if (window.scrollY > 150) {\r\n        element.classList.add('sticky-scroll');\r\n    }\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if (window.scrollY > 150) {\r\n            element.classList.add('sticky-scroll');\r\n        } else if (window.scrollY < 150-height) {\r\n            element.classList.remove('sticky-scroll');\r\n        }\r\n    });\r\n}\r\n\r\n\r\n// Export Ready Handler\r\nexport default () => {\r\n    query('.sticky-top.sticky-header').map(el => invokeStickyHeader(el));\r\n};\r\n","\r\nimport query from '../utilities/query';\r\n\r\n/**\r\n * Invoke Scroll-To-Top Button\r\n * @param {*} element \r\n */\r\nfunction invokeScrollToTop(element)\r\n{\r\n    if (window.scrollY > 150) {\r\n        element.classList.add('active');\r\n    }\r\n\r\n    window.addEventListener('scroll', () => {\r\n        if (window.scrollY > 150) {\r\n            element.classList.add('active');\r\n        } else {\r\n            element.classList.remove('active');\r\n        }\r\n    });\r\n\r\n    element.addEventListener('click', (event) => {\r\n        event.preventDefault();\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// Export Ready Handler\r\nexport default () => {\r\n    query('.scroll-to-top').map(el => invokeScrollToTop(el));\r\n};\r\n"],"names":["Bootstrap","KeenSlider","_interopDefaultLegacy","e","default","Bootstrap__default","KeenSlider__default","ready","factory","document","readyState","addEventListener","query","selector","context","Array","from","querySelectorAll","map","el","invokeBootstrapDropdown","element","event","preventDefault","Dropdown","toggle","classList","contains","call","parentElement","item","hide","closest","target","dropdown","invokeBootstrapTooltip","Tooltip","invokeBootstrapPopover","Popover","temp","dataset","keenSlider","trim","options","length","handle","JSON","parse","console","error","preset","loop","slides","perView","spacing","breakpoints","slider","__keenSlider","container","updateHeroIndicators","s","slide","track","details","abs","querySelector","disabled","log","keenSliderControl","next","prev","on","invokeKeenSlider","defaultScheme","window","newshub","onLoad","style","sessionStorage","getItem","checked","newStyle","setItem","styling","createElement","innerText","head","appendChild","body","remove","add","setTimeout","customEvent","CustomEvent","detail","now","dispatchEvent","invokeColorPicker","content","textContent","innerHTML","replace","replaceWith","firstElementChild","socials","height","offsetHeight","scrollY","invokeStickyHeader","invokeScrollToTop","scrollTo","top","behavior"],"mappings":"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"}